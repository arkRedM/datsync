{"version":3,"file":"\/home\/bamarco\/dev\/datsync\/out\/datahike\/middleware.js","sources":["middleware.cljc"],"lineCount":203,"mappings":"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\/C,IAAME,SAAO,AAACR,4CAAcpB,GAAG2B;AAA\/B,AACEC;;AACFD;;;AAEJ,AAAA,wCAAA,gDAAAzC,xFAAO6C;AAAP,AAAA,IAAAF,YAAA;AAAA,AAAA,IAAAzC,2BAAA,AAAA;AAAA,AAAA,IAAAC,yBAAA;;AAAA,AAAA,GAAA,CAAAA,yBAAAD;AAAA,AAAA,AAAAyC,eAAA,CAAA,UAAAxC;;AAAA,eAAA,CAAAA,yBAAA;;;;AAAA;;;;AAAA,IAAAyC,WAAA,AAAAD;AAAA,AAAA,QAAAC;KAAA;AAAA,OAAAC;;;KAAA;AAAA,OAAAA,oEAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,oEAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAC,MAAA,6CAAA,+DAAA,AAAAH;;;;;AAAA,AAAA,sEAAA,tEAAOE;AAAP,AAEM,OAACI;;;AAFP,AAAA,sEAAA,tEAAOJ,iFAGH\/B;AAHJ,AAGQA;;;AAHR,AAAA,sEAAA,cAAAiC,pFAAOF,iFAIH\/B;AAJJ,AAAA,IAAAkC,aAAAD;UAAA,AAAAxB,wBAAAyB,WAAA,IAAA,7CAIQE;WAJR,AAAA3B,wBAAAyB,WAAA,IAAA,9CAIYR;YAJZ,AAAAjB,wBAAAyB,WAAA,IAAA,\/CAIiBP;QAJjB,AAAAlB,wBAAAyB,WAAA,IAAA,3CAIuBG;YAJvB,AAAA5B,wBAAAyB,WAAA,IAAA,\/CAIyBG;AAJzB,AAKG,IAAMC,aAAW,AAAClB,4CAAcpB,GAAGoC;IAC7BG,iBAAe,AAACd,2CAAazB,GAAG0B,KAAKC;AAD3C,AAEE,oBAAI,AAACX,4DAAwBU,KAAKa;AAChC,uCAAA,mFAAA,nHAACC,6BAASxC,gJAAYsC,WAAWZ,aACvBa;;AACVvC;;;;AAVP,AAAA,gEAAA,hEAAO+B;;AAAP,AAYA;;;wCAAA,xCAAMU,wFAEH3E;AAFH,AAGE,kBAAKC,OAAOC;AAAZ,AACE,IAAA0E,aAA4C,AAAC5E,mBAASC,OAAOC;IAA7D0E,iBAAA,EAAA,EAAA,EAAA,CAAAA,cAAA,QAAA,EAAA,CAAA,CAAA,AAAAA,iDAAA,WAAA,CAAAxE,gCAAA,AAAAwE,8BAAA,KAAA,OAAA,QAAA,AAAAvE,0BAAAC,mBAAAsE,YAAAA;iBAAAA,bAAW3E;eAAX,AAAAM,wBAAAqE,eAAA,lDAAyBpE;cAAzB,AAAAD,wBAAAqE,eAAA,jDAAkCC;IAC5BC,wBAAU,AAACC,8BACD,AAACC,2BAAOpC,yCACRqB,sCACAzD,SACAqE;AALhB,AAME,GAAI,AAACxB,yBAAE,AAAA,wFAAS7C,UAAU,AAAA,wFAASsE;AACjC7E;;AACA,4CAAA,rCAACgF,0BAAMhF,wEACK,AAACyB,6CAAelB,SAAS,AAAA,wFAASsE;;;;AAEtD,kCAAA,2CAAA,7EAAKI,0KAAwCP;AAE7C,gCAAA,hCAAMQ;AAAN,uEACM,AAACC,iCAAWpE,jEACZ,AAACqE,wGAAUpE,gCAAYiE,\/KACvB,OAACG,yMAAUnE,kCAAcgE;;AAE\/B;;;yCAAA,zCAAMI;AAAN,AAGM,OAACC,qCAAe,AAACJ;;AAKvB,wCAAA,2CAAA,nFAAKK,gLAA8C,AAACC,yBAAK1F,yCAAqB4E","names":["datahike.middleware\/keep-meta-middleware","transact","report","txs","map__50666","cljs.core\/PROTOCOL_SENTINEL","cljs.core\/apply","cljs.core\/hash-map","cljs.core\/get","db-after","db-before","cljs.core\/update-in","cljs.core\/with-meta","cljs.core\/into","or__10219__auto__","cljs.core\/meta","datahike.middleware\/keep-meta-meta","datahike.middleware\/bare-bones-schema","datahike.middleware\/enum-idents","datahike.middleware\/schema-idents","datahike.middleware\/validate-schema-change","var_args","args__11447__auto__","len__11440__auto__","i__11441__auto__","argseq__11448__auto__","cljs.core\/IndexedSeq","datahike.middleware\/replace-schema","p__50671","map__50672","seq50668","G__50669","cljs.core\/first","cljs.core\/next","G__50670","db","schema","options","validate?","datahike.db\/init-db","datahike.db\/-datoms","datahike.middleware\/schema-attrs","p__50677","vec__50681","cljs.core\/nth","datahike.middleware\/schema-datom?","e","a","v","tx","add?","datahike.middleware\/supported-schema-value?","G__50685","cljs.core\/Keyword","cljs.core\/=","datahike.middleware\/resolve-ident","ident-eid","resolved-eid","datahike.db\/entid-strict","datahike.db\/-search","datahike.middleware\/resolve-enum","attr","value","rident","args50687","G__50689","datahike.middleware\/conj-schema-datom","js\/Error","p__50690","vec__50691","datahike.db\/empty-db","eid","_","attr-ident","resolved-value","cljs.core\/assoc-in","datahike.middleware\/schema-middleware","map__50700","tx-data","db-after'","cljs.core\/transduce","cljs.core\/filter","cljs.core\/assoc","datahike.middleware\/schema-meta","datahike.middleware\/schema-db","datahike.core\/empty-db","datahike.core\/db-with","datahike.middleware\/create-schema-conn","datahike.core\/conn-from-db","datahike.middleware\/kitchen-sink-meta","cljs.core\/comp"]}